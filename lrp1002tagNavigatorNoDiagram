;;; New program created by CaroHernandez on 12 September 2016 ;;OUTDOOR FLIGHT and INDOOR HULL(var vspeed := [0.4])(var ftilt := [-0.2]) (var ttakeoff := [7000]) (var televate := [650]) (var tland := [5000]) (var tmove := [450])(var tstop:=[200])(var altitude:=[1000])(var e:=[100])(var tag := [robot tagDetected: ARDConstant detectedTag_OR_IN_CV ])(machine tagNavigator	(state takingoff		(onentry [			robot ledsStandard.			robot setConfigurationFor: 'control:hovering_range' value: '1500'.			robot modeHoverOnTopOfOrientedRoundel. 			robot takeOff]))	(state elevating		(onentry [robot ledsFireForever. robot elevate: vspeed])		(onexit [ robot ledsStandard. robot stabilize]))	(state looking)	(state move		(onentry [robot modeFreeFlight. 			robot pitch: ftilt]))	(state moving		(onentry [ robot modeHoverOnTopOfOrientedRoundel])		(onexit [robot stabilize]))	(state stopping		(onentry ["robot pitch: (ftilt * -1)"])		(onexit [robot stabilize]))	(state stabilizing)			(ontime ttakeoff takingoff->looking)	(on altitudeLow looking->elevating altitudeLow)	(on altitudeOK elevating->looking altitudeOK)	(on [tag detected] looking -> stabilizing tagFound)	(on [tag detected not] stabilizing -> looking tagLost)	(ontime tland stabilizing->move)	(ontime tmove move -> moving)	(on [tag detected] moving -> stopping tagFound)	(ontime tmove moving -> stopping)	(ontime tstop stopping -> looking)	(event altitudeLow [robot altitude < (altitude - e)])	(event altitudeOK [robot altitude > (altitude + e)]))(spawn tagNavigator takingoff)